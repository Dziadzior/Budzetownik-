<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Rozbudowany Bud≈ºetownik - zarzƒÖdzaj swoimi finansami w prosty spos√≥b.">
  <title>Rozbudowany Bud≈ºetownik</title>
  <!-- ≈Åadowanie styl√≥w -->
  <link rel="stylesheet" href="./style.css">
  <!-- ≈Åadowanie bibliotek JavaScript -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
  <!-- Ikony i manifest -->
  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#f00">
</head>
<body>
  <div class="container">
    <h1>Bud≈ºetownik</h1>
    <div class="balance">
      <h2>Saldo: <span id="balance">0.00 z≈Ç</span></h2>
    </div>

    <!-- Wyb√≥r waluty -->
    <div class="currency-wrapper">
      <label for="currency">Waluta:</label>
      <select id="currency">
        <option value="PLN">PLN</option>
        <option value="USD">USD</option>
        <option value="EUR">EUR</option>
      </select>
    </div>

    <div id="form-errors" class="error-messages"></div>

    <!-- Formularz dodawania transakcji -->
    <form id="transaction-form">
      <input type="text" id="description" placeholder="Opis" required>
      <input type="number" id="amount" placeholder="Kwota (+ przych√≥d, - wydatek)" required step="0.01">
      <div class="category-wrapper">
        <label for="category">Kategoria:</label>
        <select id="category" required>
          <optgroup label="Dom">
            <option value="Wynajem" data-icon="üè†">Wynajem</option>
            <option value="Umeblowanie" data-icon="üõãÔ∏è">Umeblowanie</option>
            <option value="Naprawy" data-icon="üîß">Naprawy</option>
            <option value="Sprzƒôt AGD" data-icon="üç≥">Sprzƒôt AGD</option>
            <option value="Remonty" data-icon="üõ†Ô∏è">Remonty</option>
            <option value="Dekoracje" data-icon="üé®">Dekoracje</option>
          </optgroup>
          <optgroup label="Jedzenie">
            <option value="Restauracje" data-icon="üç¥">Restauracje</option>
            <option value="Zakupy spo≈ºywcze" data-icon="üõí">Zakupy spo≈ºywcze</option>
            <option value="Fast food" data-icon="üçî">Fast food</option>
            <option value="Kawiarnie" data-icon="‚òï">Kawiarnie</option>
            <option value="PrzekƒÖski" data-icon="üçø">PrzekƒÖski</option>
          </optgroup>
          <!-- Dodaj pozosta≈Çe kategorie tutaj -->
        </select>
      </div>
      <button type="submit">Dodaj</button>
    </form>

    <!-- Filtry -->
    <div class="filters">
      <button data-filter="all" class="filter active">Wszystkie</button>
      <button data-filter="income" class="filter">Przychody</button>
      <button data-filter="expense" class="filter">Wydatki</button>
    </div>

    <!-- Lista transakcji -->
    <ul id="transaction-list"></ul>

    <!-- Eksport -->
    <div class="export-buttons">
      <button id="export-csv">Eksportuj do CSV</button>
      <button id="export-excel">Eksportuj do Excel</button>
    </div>

    <!-- Podsumowanie kategorii -->
    <div id="category-summary">
      <h3>Podsumowanie wydatk√≥w wed≈Çug kategorii</h3>
      <ul id="summary-list"></ul>
    </div>

    <!-- Wykres -->
    <canvas id="expense-chart" width="400" height="200" aria-label="Wykres wydatk√≥w wed≈Çug kategorii"></canvas>
  </div>

  <script src="script.js"></script>
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('./service-worker.js')
        .then((registration) => {
          console.log('Service Worker zarejestrowany:', registration);
        })
        .catch((error) => {
          console.error('Rejestracja Service Workera nie powiod≈Ça siƒô:', error);
        });
    }

    if ('Notification' in window && 'serviceWorker' in navigator) {
      Notification.requestPermission().then((permission) => {
        if (permission === 'granted') {
          console.log('Powiadomienia sƒÖ w≈ÇƒÖczone.');
        }
      });
    }
  </script>
</body>
</html>