<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rozbudowany Bud≈ºetownik</title>
  <!-- ≈Åadowanie styl√≥w -->
  <link rel="stylesheet" href="./style.css">
  <!-- ≈Åadowanie bibliotek JavaScript -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
  <!-- Ikony i manifest -->
  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#f00">
</head>
<body>
  <div class="container">
    <h1>Bud≈ºetownik</h1>
    <div class="balance">
      <h2>Saldo: <span id="balance">0.00 z≈Ç</span></h2>
    </div>
    <form id="transaction-form">
      <input type="text" id="description" placeholder="Opis" required>
      <input type="number" id="amount" placeholder="Kwota (+ przych√≥d, - wydatek)" required>
      <div class="category-wrapper">
        <label for="category">Kategoria:</label>
        <select id="category" required>
          <optgroup label="Dom">
            <option value="Wynajem" data-icon="üè†">Wynajem</option>
            <option value="Umeblowanie" data-icon="üõãÔ∏è">Umeblowanie</option>
            <option value="Naprawy" data-icon="üîß">Naprawy</option>
            <option value="Sprzƒôt AGD" data-icon="üç≥">Sprzƒôt AGD</option>
            <option value="Remonty" data-icon="üõ†Ô∏è">Remonty</option>
            <option value="Dekoracje" data-icon="üé®">Dekoracje</option>
          </optgroup>
          <optgroup label="Jedzenie">
            <option value="Restauracje" data-icon="üç¥">Restauracje</option>
            <option value="Zakupy spo≈ºywcze" data-icon="üõí">Zakupy spo≈ºywcze</option>
            <option value="Fast food" data-icon="üçî">Fast food</option>
            <option value="Kawiarnie" data-icon="‚òï">Kawiarnie</option>
            <option value="PrzekƒÖski" data-icon="üçø">PrzekƒÖski</option>
          </optgroup>
          <optgroup label="Rachunki">
            <option value="PrƒÖd" data-icon="‚ö°">PrƒÖd</option>
            <option value="Woda" data-icon="üíß">Woda</option>
            <option value="Gaz" data-icon="üî•">Gaz</option>
            <option value="Internet" data-icon="üåê">Internet</option>
            <option value="Telefon" data-icon="üì±">Telefon</option>
            <option value="≈ömieci" data-icon="üóëÔ∏è">≈ömieci</option>
            <option value="Ubezpieczenie domu" data-icon="üè†">Ubezpieczenie domu</option>
          </optgroup>
          <optgroup label="Rozrywka">
            <option value="Kino/Teatr" data-icon="üé≠">Kino/Teatr</option>
            <option value="Subskrypcje" data-icon="üì∫">Subskrypcje</option>
            <option value="Gry komputerowe" data-icon="üéÆ">Gry komputerowe</option>
            <option value="Sport" data-icon="‚öΩ">Sport</option>
            <option value="Hobby" data-icon="üé®">Hobby</option>
            <option value="Podr√≥≈ºe" data-icon="‚úàÔ∏è">Podr√≥≈ºe</option>
          </optgroup>
          <optgroup label="Przychody">
            <option value="Pensja" data-icon="üí∞">Pensja</option>
            <option value="Dodatkowa praca" data-icon="üõ†Ô∏è">Dodatkowa praca</option>
            <option value="Prezenty" data-icon="üéÅ">Prezenty</option>
            <option value="Sprzeda≈º" data-icon="üõí">Sprzeda≈º</option>
            <option value="Zyski z inwestycji" data-icon="üìà">Zyski z inwestycji</option>
            <option value="Zwroty podatku" data-icon="üí∏">Zwroty podatku</option>
          </optgroup>
          <optgroup label="Transport">
            <option value="Paliwo" data-icon="‚õΩ">Paliwo</option>
            <option value="Bilety komunikacji" data-icon="üöå">Bilety komunikacji</option>
            <option value="Naprawa samochodu" data-icon="üöó">Naprawa samochodu</option>
            <option value="Ubezpieczenie samochodu" data-icon="üöò">Ubezpieczenie samochodu</option>
            <option value="Parking" data-icon="üÖøÔ∏è">Parking</option>
          </optgroup>
          <optgroup label="Zdrowie">
            <option value="Leki" data-icon="üíä">Leki</option>
            <option value="Wizyty lekarskie" data-icon="ü©∫">Wizyty lekarskie</option>
            <option value="Ubezpieczenie zdrowotne" data-icon="üè•">Ubezpieczenie zdrowotne</option>
            <option value="Fitness" data-icon="üèãÔ∏è‚Äç‚ôÇÔ∏è">Fitness</option>
          </optgroup>
        </select>
      </div>
      <button type="submit">Dodaj</button>
    </form>
    <div class="filters">
      <button data-filter="all" class="filter active">Wszystkie</button>
      <button data-filter="income" class="filter">Przychody</button>
      <button data-filter="expense" class="filter">Wydatki</button>
    </div>
    <ul id="transaction-list"></ul>
    <div class="export-buttons">
      <button id="export-csv">Eksportuj do CSV</button>
      <button id="export-excel">Eksportuj do Excel</button>
    </div>
    <canvas id="expense-chart" width="400" height="200"></canvas>
  </div>
  <script src="script.js"></script>
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('./service-worker.js')
        .then((registration) => {
          console.log('Service Worker zarejestrowany:', registration);
        })
        .catch((error) => {
          console.error('Rejestracja Service Workera nie powiod≈Ça siƒô:', error);
        });
    }

    if ('Notification' in window && 'serviceWorker' in navigator) {
      Notification.requestPermission().then((permission) => {
        if (permission === 'granted') {
          console.log('Powiadomienia sƒÖ w≈ÇƒÖczone.');
        }
      });
    }
  </script>
</body>
</html>